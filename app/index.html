<!doctype html>
<html class="no-js">
  <head>
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimal-ui">
    <title>The FEST!</title>
    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

    <!-- build:css styles/vendor.css -->
    <!-- bower:css -->
    <link rel="stylesheet" href="../bower_components/normalize-css/normalize.css" />
    <!-- endbower -->
    <!-- endbuild -->

    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBgAuFCzr9I0uV9cLtXi0zMo69K3wW5_oY&sensor=true">
    </script>

      <style>
      * {
          margin: 0;
          padding: 0;
      }
      div.popup {
          font-size: 14px;
          margin: 0;
          width: 270px;
      }
      div.popup p {
          background-color: #FFF;
          color: #333;
          font-size: 12px;
          line-height: 15px;
      }
      div.popup p a {
          color: #1122CC;
      }
      </style>

    <!-- build:css styles/main.css -->
    <link rel="stylesheet" href="styles/main.css">
    <!-- endbuild -->

    <!-- build:js scripts/vendor/modernizr.js -->
    <script src="../bower_components/modernizr/modernizr.js"></script>
    <!-- endbuild -->
  </head>
  <body>
  <!-- ////////////////////// APPLICATION ///////////////////////////////////-->
      <script type='text/x-handlebars' data-template-name='application'>
        <div class="header">
          <h1>GREENVILLE FESTIVAL</h1>
        </div>


  <ul class="navigation">
    {{#link-to 'index'}}<li>Home</li>{{/link-to}}
    {{#link-to 'bands.viewAll'}}<li>Bands</li>{{/link-to}}
    {{#link-to 'venues.viewAll'}}<li>Venues</li>{{/link-to}}
    <li>Social
      <ul class="dropdowns">
        {{#link-to 'user'}}<li>Profile</li>{{/link-to}}
      </ul>
    </li>

    <li>Festival
      <ul class="dropdowns">
      {{#link-to 'schedule'}}<li>Schedule</li>{{/link-to}}
      </ul>
    </li>
    <div class="clear"></div>
  </ul>
            {{outlet}}

      </script>

      <script type='text/x-handlebars' data-template-name='login'>

              <h1>LOG IN</h1>
      <div>
       <p>
        <label class="btn" for="login">Log in</label>
        <label class="btn btn-blue" for="signin">Sign up</label>
       </p>
      </div>

      <input class="modal-state" id="login" type="checkbox" />
      <div class="modal">
       <label class="modal__bg" for="login"></label>
       <div class="modal__inner">
         <label class="modal__close" for="login"></label>
         <form>
           {{input type="email" class="login-input" placeholder="Email" value=email}}
           {{input type="password" class="login-input" placeholder="Password" value=password}}
           <button {{action "logIn"}} type="submit" class="btn">Log in</button>
         </form>
       </div>
      </div>

      <input class="modal-state" id="signin" type="checkbox" />
      <div class="modal">
       <label class="modal__bg" for="signin"></label>
        <div class="modal__inner">
          <label class="modal__close" for="signin"></label>
          <form>
            {{input type="text" class="login-input" placeholder="Your name" value=userName}}
            {{input type="email" class="login-input" placeholder="Email" value=email}}
            {{input type="password" class="login-input" placeholder="Password" value=password}}
              {{#if url}}
                <img {{bind-attr src=url}}>
              {{else}}
                <button {{action 'addPhoto' }} class="btn btn-blue">Add Photo</button>
              {{/if}}
            {{textarea class="bio-text" value=userBio cols="45" rows="6" placeholder='Your statement'}}
            <button {{action 'createUser'}} type="submit" class="btn btn-blue">Sign up</button>
          </form>
        </div>
      </div>

      </script>

<!-- ///////////////////////////// HOME PAGE ////////////////////////////////-->


      <script type="text/x-handlebars" data-template-name="index">
       <div class="links-container">
        {{#link-to 'bands.viewAll'}}
          <div class="home-links">Bands</div>
        {{/link-to}}
        {{#link-to 'venues.viewAll'}}
          <div class="home-links">Venues</div>
        {{/link-to}}
        {{#link-to 'user'}}
          <div class="home-links">Profile</div>
        {{/link-to}}
        {{#link-to 'users.viewAll'}}
          <div class="home-links">Browse Users</div>
        {{/link-to}}
        {{#link-to 'schedule'}}
          <div class="home-links">Schedule</div>
        {{/link-to}}
        <button class="home-links" {{action 'logOut'}}>Log Out</button>
       </div>

        <div class="home-text">
          <h1>Welcome to Indie Upstate!</h1>
          <img src="http://www.largepict.com/wp-content/uploads/2014/05/falls-park-greenville-sc.jpg">
        </div>

        <a class="twitter-timeline" href="https://twitter.com/hashtag/festival" data-widget-id="527195709221527554">#festival Tweets</a>
    </script>

<!--/////////////////////////////////////USER PROFILE ///////////////////////////////////// -->

    <script type='text/x-handlebars' data-template-name='user'>
      <div {{bind-attr style=imgStyle}} class='band-img'></div>
      <h1>{{userName}}</h1>
      <h3>{{userBio}}</h3>

      <h4>People you follow</h4>
      <ul class="profile-container">
      {{#each user in userFollows}}
        <li>
          {{#link-to 'users.show' user}}
            {{user.userName}}
          {{/link-to}}
        </li>
      {{/each}}
      </ul>

      <h4>Bands you follow</h4>
      <ul class="profile-container">
      {{#each band in userBands itemController='userBands'}}
        <li>
          {{#link-to 'bands.show' band}}
            {{band.bandName}}
          {{/link-to}}
          <span>at</span>
          {{#link-to 'venues.show' band.bandVenue}}
            {{band.bandVenue.venueName}}
          {{/link-to}}
          {{band.bandStartTime}}
        </li>
      {{/each}}
      </ul>

      <h4>Followers</h4>
      <ul>
        {{#each user in userFollowedBy}}
          {{#link-to 'users.show' user}}
            <li>{{user.userName}}</li>
          {{/link-to}}
        {{/each}}
      </ul>
    </script>

<!--///////////////////////////BROWSE USERS////////////////////////////-->

    <script type='text/x-handlebars' data-template-name='users/viewAll'>
    {{input type='text' value=filter placeholder="Search Users"}}
      <ul>
        {{#each filteredContent}}
          {{#link-to 'users.show' this}}
            <li>{{userName}}</li>
          {{/link-to}}
        {{/each}}
      </ul>
    </script>

<!--////////////////////////////SHOW USER///////////////////////////////-->

    <script type='text/x-handlebars' data-template-name='users/show'>
      <div {{bind-attr style=imgStyle}} class='band-img'></div>
      <div class="profile-container">
      <h2>
        {{userName}}
      </h2>
      <h4>
        {{userBio}}
      </h4>
      <h4>
        Bands {{userName}} is going to see:
      </h4>
        <ul class="profile-each-band">
          {{#each band in userBands itemController='userBands'}}
            <li>
              {{#link-to 'bands.show' band}}
                {{band.bandName}}
              {{/link-to}}
              <span>at</span>
              {{#link-to 'venues.show' band.bandVenue}}
                {{band.bandVenue.venueName}}
              {{/link-to}}
              {{band.bandStartTime}}
            </li>
          {{/each}}
        </ul>

      <h4>
        People {{userName}} follows:
      </h4>
        <ul>
          {{#each user in model.userFollows}}
            {{#link-to 'users.show' user}}
              <li>{{user.userName}}</li>
            {{/link-to}}
          {{/each}}
        </ul>

      <h4>{{userName}}'s Followers:</h4>
        <ul>
          {{#each user in model.userFollowedBy}}
            {{#link-to 'users.show' user}}
              <li>{{user.userName}}</li>
            {{/link-to}}
          {{/each}}
        </ul>

      {{#if friendsInCommon}}
      <h4>
        Friends you have in common
      </h4>
        <ul>
          {{#each friendsInCommon}}
            {{#link-to 'users.show' this}}
              <li>{{userName}}</li>
            {{/link-to}}
          {{/each}}
        </ul>
      {{/if}}

      {{#if bandsInCommon}}
      <h4>
        Bands you have in common
      </h4>
        <ul>
          {{#each bandsInCommon}}
            {{#link-to 'bands.show' this}}
              <li>{{bandName}}</li>
            {{/link-to}}
          {{/each}}
        </ul>
      {{/if}}


      {{#if followed}}
      <button {{action "unfollowUser"}} class="btn">Unfollow User</button>
      {{else}}
      <button {{action "followUser"}} class="btn">Follow!</button>
      {{/if}}
      </div>
    </script>

<!-- ////////////////////////////// ALL BANDS ///////////////////////////////-->

    <script type='text/x-handlebars' data-template-name='bands/viewAll'>
    {{input type='text' value=filter placeholder="Search Bands"}}
      {{#each filteredContent}}
      <ul>
        <li class="each">
          {{#link-to 'bands.show' this}}
            {{bandName}}
          {{/link-to}}
        </li>
       </ul>
      {{/each}}
      </div>
    </script>


<!-- ///////////////////////////// EACH BAND ///////////////////////////////-->

    <script type='text/x-handlebars' data-template-name='bands/show'>
      <div {{bind-attr style=imgStyle}} class='band-img'></div>
      <h2>{{currentBand.bandName}}</h2>
      <div>{{currentBand.bandBio}}</div>
      {{bandcamp-embed src=currentBand.bandEmbedUrl href=currentBand.bandLinkUrl text=currentBand.bandText}}
      {{outlet}}
      <div>
        {{#link-to 'venues.show' currentBand.bandVenue}}
          {{currentBand.bandVenue.venueName}}
        {{/link-to}}
        {{bandStartTime}}
      </div>
      <h3>People following this band:</h3>
      {{#each user in model.bandAttendees}}
        <li>
          {{#link-to 'users.show' user}}
            {{user.userName}}
          {{/link-to}}
        </li>
      {{/each}}

      {{#if friendFollowed}}
      <h3>Friends Following this band:</h3>
        {{#each friendFollowed}}
          {{#link-to 'users.show' user}}
            <li>{{userName}}</li>
          {{/link-to}}
        {{/each}}
      {{/if}}

      {{#if followed}}
        <button {{action 'unfollowBand'}} class="btn">Unfollow Band</button>
      {{else}}
        <button {{action "followBand"}} class="btn">Follow this Band!</button>
      {{/if}}

    </script>


<!-- /////////////////////////////// ALL VENUES /////////////////////////////-->


    <script type='text/x-handlebars' data-template-name='venues/viewAll'>
      {{#each}}

        <li class="each">
          {{#link-to 'venues.show' this}}
            {{venueName}}
          {{/link-to}}
        </li>

      {{/each}}
      <div id="map_canvas" style="width:90%; height:500px"></div>

    </script>


<!-- /////////////////////////////// EACH VENUE /////////////////////////////-->


    <script type='text/x-handlebars' data-template-name='venues/show'>
      <div {{bind-attr style=imgStyle}} class='band-img'></div>
      <div class="each-venue">
       <h2>{{venueName}}</h2>
       <div>{{venueDescription}}</div>
       {{#each band in model.venueBands itemController='venueBand'}}
       <ul>
        <li class="each">
          {{#link-to 'bands.show' band}}
            {{band.bandName}}
          {{/link-to}}
           <span class="times">{{band.bandStartTime}} - {{band.bandEndTime}}</span>
        </li>
      </ul>
       {{/each}}

      <div>{{venueAddress}}</div>

      {{map-embed src=venueEmbedAddress}}
    </div>
    </script>

<!-- ///////////////////////////////// SCHEDULE //////////////////////////////// -->

    <script type="text/x-handlebars" data-template-name="schedule">
      <h1>SCHEDULE</h1>

      <div class="schedule-container">

       <ul class="schedule-times">
         <li>1PM</li>
         <li>2PM</li>
         <li>3PM</li>
         <li>4PM</li>
         <li>5PM</li>
         <li>6PM</li>
         <li>7PM</li>
         <li>8PM</li>
         <li>9PM</li>
         <li>10PM</li>
         <li>11PM</li>
         <li>12AM</li>
         <li>1AM</li>
         <li>2AM</li>
       </ul>

          <ul class="schedule">
            {{#each}}
             <li class="venue-list">
             <h5>{{venueName}}</h5>
              <ul class="time-slot">
                {{#each band in venueBands itemController="venueBand"}}
                  <li {{bind-attr class="timeSlot isSelected"}} {{bind-attr style="timeSlotStyle"}}>
                    {{#link-to 'bands.show' band}}{{band.bandName}}{{/link-to}}
                  </li>
                {{/each}}
              </ul>
             </li>
            {{/each}}
          </ul>
      </div>

    </script>



    <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.8.3/moment.min.js"></script>

    <!-- build:js scripts/vendor.js -->
    <!-- bower:js -->
    <script src="../bower_components/jquery/dist/jquery.js"></script>
    <script src="../bower_components/underscore/underscore.js"></script>
    <script src="../bower_components/firebase/firebase.js"></script>
    <script src="../bower_components/handlebars/handlebars.js"></script>
    <script src="../bower_components/ember/ember.js"></script>
    <script src="../bower_components/ember-data/index.js"></script>
    <script src="../bower_components/emberfire/dist/emberfire.min.js"></script>
    <script src="../bower_components/filepicker/filepicker.min.js"></script>
    <!-- endbower -->
    <!-- endbuild -->

        <!-- build:js scripts/main.js -->
        <script src="js/application.js"></script>
        <script src="js/router.js"></script>
        <script src="js/venues_viewall_view.js"></script>
        <script src="js/index_view.js"></script>
        <script src="js/models/band.js"></script>
        <script src="js/models/venue.js"></script>
        <script src="js/models/user.js"></script>
        <script src="js/controllers/bands_viewall_controller.js"></script>
        <script src="js/controllers/users_viewall_controller.js"></script>
        <script src="js/controllers/user_bands_controller.js"></script>
        <script src="js/controllers/bands_show_controller.js"></script>
        <script src="js/controllers/venues_show_controller.js"></script>
        <script src="js/controllers/venue_band_controller.js"></script>
        <script src="js/controllers/login_controller.js"></script>
        <script src="js/controllers/index_controller.js"></script>
        <script src="js/controllers/session_controller.js"></script>
        <script src="js/controllers/application_controller.js"></script>
        <script src="js/controllers/user_controller.js"></script>
        <script src="js/controllers/users_show_controller.js"></script>
        <script src="js/controllers/following_controller.js"></script>



        <!-- endbuild -->
</body>
</html>
